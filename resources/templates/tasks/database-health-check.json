{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "healthwatch:check-postgres",
      "type": "shell",
      "command": "pg_isready",
      "args": [
        "-h", "${config:healthwatch.db.host}",
        "-p", "${config:healthwatch.db.port}",
        "-U", "${config:healthwatch.db.user}",
        "-d", "${config:healthwatch.db.name}",
        "-t", "10"
      ],
      "group": "test",
      "presentation": {
        "reveal": "silent",
        "panel": "shared"
      },
      "options": {
        "env": {
          "PGPASSWORD": "${config:healthwatch.db.password}"
        }
      }
    },
    {
      "label": "healthwatch:check-mysql",
      "type": "shell",
      "command": "mysqladmin",
      "args": [
        "-h", "${config:healthwatch.db.host}",
        "-P", "${config:healthwatch.db.port}",
        "-u", "${config:healthwatch.db.user}",
        "-p${config:healthwatch.db.password}",
        "ping"
      ],
      "group": "test",
      "presentation": {
        "reveal": "silent",
        "panel": "shared"
      }
    },
    {
      "label": "healthwatch:check-redis",
      "type": "shell",
      "command": "redis-cli",
      "args": [
        "-h", "${config:healthwatch.db.host}",
        "-p", "${config:healthwatch.db.port}",
        "ping"
      ],
      "group": "test",
      "presentation": {
        "reveal": "silent",
        "panel": "shared"
      }
    }
  ]
}